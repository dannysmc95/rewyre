# Enable WebSocket Support

The WebSocket support has two types for permissions, this is `full` which allows WebSocket access to all controllers and all methods, or `partial` which means for a controller and/or method to be allowed, you must enable WebSocket support in each controller and class, you can do this by adding true as the third argument to the `@Controller()` or `@Route()` decorators. In this example we will just use full access.

**1. Enable WebSocket support.**  
The below we shall add the extra options to the application config, and then define the path, by default websocket is disabled and the default websocket path is: `/ws`.

```typescript
import { Framework } from 'rewyre';
import { PeopleController } from '../controller/people';
import { PeopleModel } from '../model/people';
import { LoggerProvider } from '../provider/logger';
import { ExampleService } from '../service/example';

(async () => {

	const application: Framework = new Framework({
		db_enable: true,
		db_database: 'demo-rewyre-app',
		port: 8080,
		ws_enable: true,	// Enabled WebSocket, the default path and access is fine.
	});

	application.register([ PeopleController, PeopleModel, LoggerProvider, ExampleService ]);

	await application.start();
});
```

**2. Write some front-end code and test it.**  
The below is a very simple example to create a connection, we are assuming this is running on localhost and so is the code below. As you will see we use the namespace and the method instead to access controller methods, this is to make sure the router can find the right controller and route, and uses standard error checking.

```typescript
const socket = new WebSocket('ws://localhost:8080/ws');
socket.addEventListener('open' (event) => {
	console.log('Socket Connected', event);
	socket.send(JSON.stringify({
		command: 'people/index',
		content: {},
	}));
})
socket.addEventListener('close', (event) => { console.log('Connection Closed', event); });
socket.addEventListener('error', (event) => { console.log('Connection Error', event); });
socket.addEventListener('message', (event) => { console.log('Data From Socket', event); });
```